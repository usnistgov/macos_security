---
title: Generate Mapping
description: Create custom rules and baselines for unsupported compliance frameworks.
---

import { Steps, FileTree, Aside } from '@astrojs/starlight/components';

export const base = import.meta.env.BASE_URL.endsWith('/') ? import.meta.env.BASE_URL : import.meta.env.BASE_URL + '/';

The `generate_mapping.py` script creates custom rules and baselines for compliance frameworks not included in the project. You provide a CSV that maps your framework's controls to a supported framework (like NIST 800-53r5).

<Aside type="tip">
Use this when you need to align your organization's controls with frameworks the project doesn't directly support.
</Aside>

<Aside type="caution" title="Always Use the Correct Branch (mSCP 1.0)">
Each macOS version has its own branch (`sequoia`, `sonoma`, `ventura`, etc.). **Never use the `main` branch** â€” it won't work for generating content.

**mSCP 2.0 (currently in beta)** will remove the per-branch requirement and introduce easier installation methods.
</Aside>

---

## CSV Format

Create a CSV with two columns:

| Column | Description |
|:-------|:------------|
| **Column 1** | Your framework's control identifier |
| **Column 2** | Corresponding controls from a supported framework |

The first row should contain the framework names:

```csv
800-171r2,800-53r5
3.1.1,"AC-2, AC-3, AC-17"
3.1.2,"AC-2, AC-3, AC-17"
3.1.3,AC-4
3.1.4,AC-5
```

---

## Generate Custom Mapping

<Steps>

1. **Run the mapping script**

   ```bash
   ./scripts/generate_mapping.py PATH_TO_CSV
   ```

   Example:
   ```bash
   ./scripts/generate_mapping.py ~/Desktop/171-to-53.csv
   ```

2. **Find your files**

   | Output | Location |
   |:-------|:---------|
   | Custom rule files | `build/800-171r2/rules/` |
   | Generated baseline | `build/baselines/800-171r2.yaml` |

</Steps>

---

## Command Reference

| Flag | Description |
|:-----|:------------|
| `-f FRAMEWORK` | Source framework to map from (default: `800-53r5`) |

Example mapping to CIS Controls:

```bash
./scripts/generate_mapping.py ~/Desktop/cis-mapping.csv -f "cis/controls v8"
```

<Aside type="note">
The `-f` value must match a column header in your CSV.
</Aside>

---

## Next Steps

- <a href={`${base}baselines/tailoring-a-baseline/`}>Tailoring a Baseline</a> - Customize the generated baseline
- <a href={`${base}guidance/how-to-generate-guidance/`}>How to Generate Guidance</a> - Generate documentation from your baseline

<style>{`
  .sl-markdown-content th {
    background: var(--sl-color-accent-low);
    font-weight: 600;
  }
  .sl-markdown-content td, .sl-markdown-content th {
    padding: 0.6rem 1rem;
  }
  .sl-markdown-content td code {
    background: var(--sl-color-bg-inline-code);
    padding: 0.15em 0.35em;
    font-size: 0.85em;
  }
`}</style>
