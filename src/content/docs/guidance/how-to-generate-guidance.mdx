---
title: How to Generate Guidance
description: Create documentation, scripts, and profiles from your baseline.
---

import { Steps, FileTree, Aside } from '@astrojs/starlight/components';

export const base = import.meta.env.BASE_URL.endsWith('/') ? import.meta.env.BASE_URL : import.meta.env.BASE_URL + '/';

The `generate_guidance.py` script creates outputs from your baseline. By default it generates documentation (AsciiDoc, HTML, PDF). With additional flags, you can also generate compliance scripts, configuration profiles, and more.

<Aside type="note">
New to the project? Complete the <a href={`${base}welcome/getting-started/`}>Getting Started</a> guide and <a href={`${base}baselines/how-to-generate-baselines/`}>generate a baseline</a> first.
</Aside>

<Aside type="caution" title="Always Use the Correct Branch (mSCP 1.0)">
Each macOS version has its own branch (`sequoia`, `sonoma`, `ventura`, etc.). **Never use the `main` branch** â€” it won't work for generating content.

**mSCP 2.0 (currently in beta)** will remove the per-branch requirement and introduce easier installation methods.
</Aside>

---

## Generate Guidance

<Steps>

1. **Run the script with your baseline**

   ```bash
   ./scripts/generate_guidance.py baselines/BASELINE_NAME.yaml
   ```

   Example:
   ```bash
   ./scripts/generate_guidance.py baselines/800-53r5_moderate.yaml
   ```

2. **Add flags for additional outputs**

   ```bash
   ./scripts/generate_guidance.py -s -p baselines/800-53r5_moderate.yaml
   ```

   This generates guidance docs plus compliance script (`-s`) and configuration profiles (`-p`).

3. **Find your files**

   All outputs are saved to `build/BASELINE_NAME/`:

   <FileTree>
   - build/
       - 800-53r5_moderate/
           - **800-53r5_moderate.adoc** - AsciiDoc source
           - **800-53r5_moderate.html** - Web documentation
           - **800-53r5_moderate.pdf** - Printable documentation
           - **800-53r5_moderate_compliance.sh** - Compliance script (if -s)
           - **800-53r5_moderate.xls** - Excel spreadsheet (if -x)
           - mobileconfigs/ - Configuration profiles (if -p)
               - unsigned/ - Unsigned profiles
               - signed/ - Signed profiles (if -H)
               - preferences/ - Preference plists
           - declarative/ - DDM components (if -D)
               - activations/
               - configurations/
               - assets/
           - preferences/ - Audit preference files
   </FileTree>

</Steps>

---

## Command Reference

| Flag | Output |
|:-----|:-------|
| *(none)* | Guidance documents (.adoc, .html, .pdf) |
| `-s` | Compliance script |
| `-p` | Configuration profiles (one per payload) |
| `-P` | Single consolidated configuration profile |
| `-D` | Declarative Device Management (DDM) components |
| `-x` | Excel spreadsheet |

**Additional options:**

| Flag | Description |
|:-----|:------------|
| `-h` | Show help message |
| `-l LOGO` | Include custom logo in documentation |
| `-H HASH` | Sign configuration profiles with certificate |
| `-a NAME` | Custom name for audit plist and log |
| `-r REF` | Use reference ID instead of rule ID |

---

## Common Examples

**Generate documentation only:**
```bash
./scripts/generate_guidance.py baselines/800-53r5_moderate.yaml
```

**Generate everything for MDM deployment:**
```bash
./scripts/generate_guidance.py -s -p -D baselines/DISA-STIG.yaml
```

**Generate with signed profiles:**
```bash
./scripts/generate_guidance.py -p -H YOUR_CERT_HASH baselines/cis_lvl2.yaml
```

**Generate documentation with custom logo:**
```bash
./scripts/generate_guidance.py -l /path/to/logo.png baselines/800-53r5_moderate.yaml
```

---

## Built-in vs Custom Baselines

You can use either type of baseline:

| Type | Location | Use Case |
|:-----|:---------|:---------|
| **Built-in** | `baselines/` | Standard frameworks without customization |
| **Custom** | `build/baselines/` | Tailored baselines for your organization |

Both produce the same outputs. Custom baselines reflect your organization's specific settings and excluded rules.

---

## Next Steps

- <a href={`${base}configuration-profiles/how-to-generate-configuration-profiles/`}>How to Generate Configuration Profiles</a> - Details on the `-p` flag
- <a href={`${base}compliance-scripts/how-to-generate-compliance-scripts/`}>How to Generate Compliance Scripts</a> - Details on the `-s` flag
- <a href={`${base}guidance/guidance-file-example/`}>Guidance File Example</a> - See a sample PDF output

<style>{`
  .sl-markdown-content th {
    background: var(--sl-color-accent-low);
    font-weight: 600;
  }
  .sl-markdown-content td, .sl-markdown-content th {
    padding: 0.6rem 1rem;
  }
  .sl-markdown-content td code {
    background: var(--sl-color-bg-inline-code);
    padding: 0.15em 0.35em;
    font-size: 0.85em;
  }
`}</style>